# Issue Analysis & Proposed Configuration

# 1. Current Issues:
# - 403 Forbidden error on search endpoint
# - Redis configuration may have typo
# - Missing essential security and access configurations

# 2. Corrected Configuration
server:
  limiter: true
  image_proxy: true
  method: GET
  # Add these important sections
  secret_key: "GENERATE_RANDOM_KEY_HERE"  # Required for security
  bind_address: "0.0.0.0"  # Allow external connections
  port: 8080  # Specify port explicitly

redis:
  # Fix typo in Redis URL (missing /)
  url: redis://192.168.10.44:6379

search:
  autocomplete: duckduckgo
  formats:
    - html
    - json
  # Add safe search settings
  safe_search: 1
  language: en-US

general:
  instance_name: RostSearch
  debug: false  # Ensure debug is off in production

ui:
  static_use_hash: true
  default_theme: simple
  theme_args:
    simple_style: dark
  infinite_scroll: true
  results_on_new_tab: true

# Keep your existing plugins and hostnames configuration
enabled_plugins:
  - Basic Calculator
  - Hash plugin
  - Hostnames plugin
  - Open Access DOI rewrite
  - Self Informations
  - Tracker URL remover
  - Unit converter plugin

hostnames:
  high_priority:
    - (.*)\/blog\/(.*)
    - (.*\.)?wikipedia.org$
    # ... rest of your existing hostnames ...
  replace:
    (www\.)?reddit\.com$: libreddit.vanillax.me

# Add security settings
server:
  proxies:
    - 127.0.0.1
  cors_enabled: true  # If you need CORS
  base_url: https://search.vanillax.me/  # Set your base URL